<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div class="wrapper">
        <ul>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
        </ul>
    </div>
    <script src="./jquery.js"></script>
    <script>

        // $.type判断当前数据类型

        // console.log($.type(true) === "boolean");

        // console.log($.type(3) === "number");

        // console.log($.type("test") === "string");

        // console.log($.type(function () { }) === "function");

        // console.log($.type([]) === "array");

        // console.log($.type(new Date()) === "date");

        // console.log($.type(/test/) === "regexp");

        // console.log($.type({}) === "object");

        // $.trim  去掉字符串起始和结尾的空格

        // console.log($.trim('   how are you   '))

        // $.makeArray  将类数组对象转换为数组对象   类数组对象有 length 属性，其成员索引为 0 至 length - 1

        // console.log($.makeArray($('li')))

        // $.inArray() 确定第一个参数在数组中的位置，从0开始计数(如果没有找到则返回 -1 )。
        // var arr = [1, 2, 3, 4, 5, 6];
        // console.log($.inArray(1, arr))
        // console.log($.inArray(10, arr))
        // console.log($.inArray(4, arr, 2))
        // console.log($.inArray(1, arr, 2))


        // 插件扩展
        // jQuery.fn.extend({
        //     check: function () {
        //         return this.each(function () { this.checked = true; });
        //     },
        //     uncheck: function () {
        //         return this.each(function () { this.checked = false; });
        //     }
        // });

        // jQuery.extend({
        //     min: function (a, b) { return a < b ? a : b; },
        //     max: function (a, b) { return a > b ? a : b; }
        // });


        // 回调函数   一个多用途的回调列表对象，提供了强大的的方式来管理回调函数列表
        // 这样做的结果是，它使构造复杂的回调列表变得简单，
        // add 添加函数  fire触发函数  remove  移除函数
        function fn1(value) {
            console.log(value);
        }

        function fn2(value) {
            fn1("fn2 says:" + value);
            return false;
        }

        // var callbacks = $.Callbacks();
        // callbacks.add(fn1);
        // callbacks.fire("foo!"); // outputs: foo!

        // callbacks.add(fn2);
        // callbacks.fire("bar!"); // outputs: bar!, fn2 says: bar!

        // callbacks.remove(fn2);
        // callbacks.fire("foobar");

        // flag 参数 这个 flags 参数是$.Callbacks()的一个可选参数, 结构为一个用空格标记分隔的标志可选列表,用来改变回调列表中的行为

        // once: 确保这个回调列表只执行一次
        // memory: 保持以前的值和将添加到这个列表的后面的最新的值立即执行调用任何回调
        // unique: 确保一次只能添加一个回调(所以有没有在列表中的重复).
        // stopOnFalse: 当一个回调返回false 时中断调用

        // once 
        // var callbacks = $.Callbacks("once");
        // callbacks.add(fn1);
        // callbacks.fire("foo");
        // callbacks.add(fn2);
        // callbacks.fire("bar");
        // callbacks.remove(fn2);
        // callbacks.fire("foobar");

        // memory 
        // var callbacks = $.Callbacks("memory");
        // callbacks.add(fn1);
        // callbacks.fire("foo");
        // callbacks.add(fn2);
        // callbacks.fire("bar");
        // callbacks.remove(fn2);
        // callbacks.fire("foobar");

        // unique
        // var callbacks = $.Callbacks("unique");
        // callbacks.add(fn1);
        // callbacks.fire("foo");
        // callbacks.add(fn1); // repeat addition
        // callbacks.add(fn2);
        // callbacks.fire("bar");
        // callbacks.remove(fn2);
        // callbacks.fire("foobar");


        // stopOnFalse
        function fn1(value) {
            console.log(value);
            return false;
        }

        function fn2(value) {
            fn1("fn2 says:" + value);
            return false;
        }

        var callbacks = $.Callbacks("stopOnFalse");
        callbacks.add(fn1);
        callbacks.fire("foo");
        callbacks.add(fn2);
        callbacks.fire("bar");
        callbacks.remove(fn2);
        callbacks.fire("foobar");

    </script>
</body>

</html>